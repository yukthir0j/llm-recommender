{"ast":null,"code":"var _jsxFileName = \"C:\\\\caze labes\\\\avial-ai-002\\\\frontend\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, User, Bot, X } from 'lucide-react';\nimport companyLogo from './logo.jpg';\n\n// --- Main App Component ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _conversations$active2;\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userId] = useState(() => uuidv4());\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [conversations, activeConversationId]);\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({\n      ...prev,\n      [newId]: {\n        id: newId,\n        name: `New Chat`,\n        messages: []\n      }\n    }));\n    setActiveConversationId(newId);\n    setFile(null);\n  };\n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, []);\n\n  // --- NEW \"DUAL AI\" SUBMIT LOGIC ---\n  const handleSubmit = async e => {\n    var _conversations$active;\n    e.preventDefault();\n    if (!prompt.trim() && !file || !activeConversationId) return;\n    setLoading(true);\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? {\n        name: file.name\n      } : null,\n      timestamp: new Date().toISOString()\n    };\n    const currentMessages = ((_conversations$active = conversations[activeConversationId]) === null || _conversations$active === void 0 ? void 0 : _conversations$active.messages) || [];\n    const updatedName = currentMessages.length === 0 ? prompt.substring(0, 25) + '...' : conversations[activeConversationId].name;\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: {\n        ...prev[activeConversationId],\n        name: updatedName,\n        messages: [...currentMessages, userMessage]\n      }\n    }));\n    const tempPrompt = prompt;\n    const tempFile = file;\n    setPrompt('');\n    setFile(null);\n\n    // --- SMART ROUTER LOGIC ---\n    const isRecommendationRequest = /model|recommend|llm|chatbot|suggest/i.test(tempPrompt);\n    if (tempFile || isRecommendationRequest) {\n      // --- ROUTE 1: Use Local Backend for Files & Recommendations ---\n      console.log(\"Routing to: Local Backend (Ollama)\");\n      await handleLocalBackendRequest(tempPrompt, tempFile);\n    } else {\n      // --- ROUTE 2: Use Cloud AI for General Conversation ---\n      console.log(\"Routing to: Cloud AI (Gemini)\");\n      await handleGeminiRequest(tempPrompt);\n    }\n    setLoading(false);\n  };\n  const handleLocalBackendRequest = async (prompt, file) => {\n    const formData = new FormData();\n    formData.append('prompt', prompt);\n    formData.append('user_id', userId);\n    if (file) {\n      formData.append('file', file);\n    }\n    try {\n      const response = await fetch('http://127.0.0.1:8000/chat/', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) throw new Error(`Server error: ${response.status}`);\n      const data = await response.json();\n      const botMessageData = data[data.length - 1];\n      addBotMessage(botMessageData.text, botMessageData.id, botMessageData.timestamp);\n    } catch (err) {\n      addBotMessage(`❌ Error connecting to local backend: ${err.message}`);\n    }\n  };\n  const handleGeminiRequest = async prompt => {\n    // This uses a proxy provided by the environment to keep the key secure\n    const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=`;\n    const payload = {\n      contents: [{\n        parts: [{\n          text: `You are a helpful AI assistant from Caze Labs. Respond to this prompt: \"${prompt}\"`\n        }]\n      }]\n    };\n    try {\n      const response = await fetch(GEMINI_API_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) throw new Error(`Gemini API error: ${response.status}`);\n      const data = await response.json();\n      const text = data.candidates[0].content.parts[0].text;\n      addBotMessage(text);\n    } catch (err) {\n      addBotMessage(`❌ Error connecting to Cloud AI: ${err.message}`);\n    }\n  };\n  const addBotMessage = (text, id = uuidv4(), timestamp = new Date().toISOString()) => {\n    const botMessage = {\n      id,\n      role: 'bot',\n      text,\n      timestamp\n    };\n    setConversations(prev => {\n      var _prev$activeConversat;\n      return {\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...(((_prev$activeConversat = prev[activeConversationId]) === null || _prev$activeConversat === void 0 ? void 0 : _prev$activeConversat.messages) || []), botMessage]\n        }\n      };\n    });\n  };\n  const activeMessages = ((_conversations$active2 = conversations[activeConversationId]) === null || _conversations$active2 === void 0 ? void 0 : _conversations$active2.messages) || [];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `.logo-pulse { animation: pulse 4s ease-in-out infinite; } @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen w-screen bg-gray-800 text-white font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        conversations: Object.values(conversations),\n        activeConversationId: activeConversationId,\n        setActiveConversationId: setActiveConversationId,\n        createNewConversation: createNewConversation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatView, {\n        messages: activeMessages,\n        loading: loading,\n        prompt: prompt,\n        setPrompt: setPrompt,\n        setFile: setFile,\n        handleSubmit: handleSubmit,\n        messagesEndRef: messagesEndRef,\n        fileInputRef: fileInputRef,\n        file: file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n// --- All other components (Sidebar, ChatView, ChatMessage, etc.) remain the same ---\n// (For brevity, I'm including only the necessary components here, the rest are unchanged)\n_s(App, \"c/AutSzMqC7TozUc6O6FHjIS/dQ=\");\n_c = App;\nconst Sidebar = ({\n  conversations,\n  activeConversationId,\n  setActiveConversationId,\n  createNewConversation\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700 shrink-0\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: companyLogo,\n      alt: \"Logo\",\n      className: \"w-10 h-10 mr-3 logo-pulse rounded-md\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 47\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-xl font-bold\",\n      children: \"LLM Recommender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 132\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: createNewConversation,\n    className: \"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(Plus, {\n      size: 20,\n      className: \"mr-2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 231\n    }, this), \"New Chat\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-grow overflow-y-auto pr-2 -mr-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-sm font-semibold text-gray-400 mb-2 px-2\",\n      children: \"History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 61\n    }, this), conversations.map(c => /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setActiveConversationId(c.id),\n      className: `flex items-center p-2 rounded-lg cursor-pointer ${activeConversationId === c.id ? 'bg-gray-700' : 'hover:bg-gray-800'}`,\n      children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n        size: 16,\n        className: \"mr-3 shrink-0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 355\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"truncate text-sm\",\n        children: c.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 408\n      }, this)]\n    }, c.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 160\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-auto text-xs text-gray-500 pt-4 border-t border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Made with \\uD83D\\uDC9C at Caze Labs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 84\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"v21.0 (Dual AI)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 116\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 145,\n  columnNumber: 5\n}, this);\n_c2 = Sidebar;\nconst ChatView = ({\n  messages,\n  loading,\n  prompt,\n  setPrompt,\n  setFile,\n  handleSubmit,\n  messagesEndRef,\n  fileInputRef,\n  file\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex-1 flex flex-col h-full bg-gray-800\",\n  children: [/*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"flex-1 overflow-y-auto p-6\",\n    children: [messages.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(WelcomeScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 89\n    }, this) : messages.map(m => /*#__PURE__*/_jsxDEV(ChatMessage, {\n      message: m\n    }, m.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 127\n    }, this)), loading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 179\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: messagesEndRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 200\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n    className: \"p-4 bg-gray-800/80 backdrop-blur-sm border-t border-gray-700\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto\",\n      children: [file && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 flex items-center justify-between bg-gray-600 px-3 py-1 rounded-md text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Attached: \", file.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 118\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setFile(null),\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 190\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 152\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"bg-gray-700 rounded-xl p-2 flex items-center w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          className: \"p-2 text-gray-400 hover:text-white\",\n          children: /*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 128\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          className: \"hidden\",\n          onChange: e => setFile(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"flex-1 bg-transparent resize-none focus:outline-none px-4\",\n          placeholder: \"Ask me anything...\",\n          rows: 1,\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          onKeyDown: e => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSubmit(e);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !prompt.trim() && !file,\n          className: \"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50\",\n          children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 175\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 154,\n  columnNumber: 5\n}, this);\n_c3 = ChatView;\nconst ChatMessage = ({\n  message\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-start gap-4 my-6\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: `w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${message.role === 'user' ? 'bg-blue-500' : 'bg-purple-500'}`,\n    children: message.role === 'user' ? /*#__PURE__*/_jsxDEV(User, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 177\n    }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n      src: companyLogo,\n      alt: \"AI\",\n      className: \"w-6 h-6 rounded-full\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 198\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-bold\",\n      children: message.role === 'user' ? 'You' : 'AI Assistant'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 38\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prose prose-invert max-w-none whitespace-pre-wrap\",\n      dangerouslySetInnerHTML: {\n        __html: message.text.replace(/\\n/g, '<br />')\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 117\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 173,\n    columnNumber: 7\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 171,\n  columnNumber: 5\n}, this);\n_c4 = ChatMessage;\nconst WelcomeScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col items-center justify-center h-full text-center\",\n  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n    src: companyLogo,\n    alt: \"Logo\",\n    className: \"w-24 h-24 mb-6 logo-pulse rounded-md\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 108\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-4xl font-bold mb-2\",\n    children: \"How can I help you today?\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 193\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 177,\n  columnNumber: 30\n}, this);\n_c5 = WelcomeScreen;\nconst LoadingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-start gap-4 my-6\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center shrink-0\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: companyLogo,\n      alt: \"AI\",\n      className: \"w-6 h-6 rounded-full animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 172\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 78\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-bold\",\n      children: \"AI Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 290\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 377\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 473\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 570\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 331\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 259\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 178,\n  columnNumber: 33\n}, this);\n_c6 = LoadingIndicator;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Sidebar\");\n$RefreshReg$(_c3, \"ChatView\");\n$RefreshReg$(_c4, \"ChatMessage\");\n$RefreshReg$(_c5, \"WelcomeScreen\");\n$RefreshReg$(_c6, \"LoadingIndicator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","v4","uuidv4","Plus","MessageSquare","Paperclip","ArrowUp","User","Bot","X","companyLogo","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_conversations$active2","conversations","setConversations","activeConversationId","setActiveConversationId","prompt","setPrompt","file","setFile","loading","setLoading","userId","messagesEndRef","fileInputRef","_messagesEndRef$curre","current","scrollIntoView","behavior","createNewConversation","newId","prev","id","name","messages","Object","keys","length","handleSubmit","e","_conversations$active","preventDefault","trim","userMessage","role","text","timestamp","Date","toISOString","currentMessages","updatedName","substring","tempPrompt","tempFile","isRecommendationRequest","test","console","log","handleLocalBackendRequest","handleGeminiRequest","formData","FormData","append","response","fetch","method","body","ok","Error","status","data","json","botMessageData","addBotMessage","err","message","GEMINI_API_URL","payload","contents","parts","headers","JSON","stringify","candidates","content","botMessage","_prev$activeConversat","activeMessages","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Sidebar","values","ChatView","_c","src","alt","onClick","size","map","c","_c2","WelcomeScreen","m","ChatMessage","LoadingIndicator","ref","onSubmit","type","_fileInputRef$current","click","onChange","target","files","placeholder","rows","value","onKeyDown","key","shiftKey","disabled","_c3","dangerouslySetInnerHTML","__html","replace","_c4","_c5","_c6","$RefreshReg$"],"sources":["C:/caze labes/avial-ai-002/frontend/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, User, Bot, X } from 'lucide-react';\nimport companyLogo from './logo.jpg';\n\n// --- Main App Component ---\nfunction App() {\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userId] = useState(() => uuidv4());\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [conversations, activeConversationId]);\n\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({ ...prev, [newId]: { id: newId, name: `New Chat`, messages: [] } }));\n    setActiveConversationId(newId);\n    setFile(null);\n  };\n  \n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, []);\n\n  // --- NEW \"DUAL AI\" SUBMIT LOGIC ---\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if ((!prompt.trim() && !file) || !activeConversationId) return;\n\n    setLoading(true);\n\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? { name: file.name } : null,\n      timestamp: new Date().toISOString(),\n    };\n\n    const currentMessages = conversations[activeConversationId]?.messages || [];\n    const updatedName = currentMessages.length === 0 ? (prompt.substring(0, 25) + '...') : conversations[activeConversationId].name;\n\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: { ...prev[activeConversationId], name: updatedName, messages: [...currentMessages, userMessage] }\n    }));\n    \n    const tempPrompt = prompt;\n    const tempFile = file;\n    setPrompt('');\n    setFile(null);\n\n    // --- SMART ROUTER LOGIC ---\n    const isRecommendationRequest = /model|recommend|llm|chatbot|suggest/i.test(tempPrompt);\n\n    if (tempFile || isRecommendationRequest) {\n      // --- ROUTE 1: Use Local Backend for Files & Recommendations ---\n      console.log(\"Routing to: Local Backend (Ollama)\");\n      await handleLocalBackendRequest(tempPrompt, tempFile);\n    } else {\n      // --- ROUTE 2: Use Cloud AI for General Conversation ---\n      console.log(\"Routing to: Cloud AI (Gemini)\");\n      await handleGeminiRequest(tempPrompt);\n    }\n    setLoading(false);\n  };\n\n  const handleLocalBackendRequest = async (prompt, file) => {\n    const formData = new FormData();\n    formData.append('prompt', prompt);\n    formData.append('user_id', userId);\n    if (file) {\n      formData.append('file', file);\n    }\n    try {\n      const response = await fetch('http://127.0.0.1:8000/chat/', { method: 'POST', body: formData });\n      if (!response.ok) throw new Error(`Server error: ${response.status}`);\n      const data = await response.json();\n      const botMessageData = data[data.length - 1];\n      addBotMessage(botMessageData.text, botMessageData.id, botMessageData.timestamp);\n    } catch (err) {\n      addBotMessage(`❌ Error connecting to local backend: ${err.message}`);\n    }\n  };\n\n  const handleGeminiRequest = async (prompt) => {\n    // This uses a proxy provided by the environment to keep the key secure\n    const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=`;\n    \n    const payload = {\n      contents: [{\n        parts: [{ text: `You are a helpful AI assistant from Caze Labs. Respond to this prompt: \"${prompt}\"` }]\n      }]\n    };\n\n    try {\n      const response = await fetch(GEMINI_API_URL, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) throw new Error(`Gemini API error: ${response.status}`);\n      const data = await response.json();\n      const text = data.candidates[0].content.parts[0].text;\n      addBotMessage(text);\n    } catch (err) {\n      addBotMessage(`❌ Error connecting to Cloud AI: ${err.message}`);\n    }\n  };\n  \n  const addBotMessage = (text, id = uuidv4(), timestamp = new Date().toISOString()) => {\n      const botMessage = { id, role: 'bot', text, timestamp };\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: { ...prev[activeConversationId], messages: [...(prev[activeConversationId]?.messages || []), botMessage] }\n      }));\n  };\n\n  const activeMessages = conversations[activeConversationId]?.messages || [];\n\n  return (\n    <>\n      <style>{`.logo-pulse { animation: pulse 4s ease-in-out infinite; } @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }`}</style>\n      <div className=\"flex h-screen w-screen bg-gray-800 text-white font-sans\">\n        <Sidebar conversations={Object.values(conversations)} activeConversationId={activeConversationId} setActiveConversationId={setActiveConversationId} createNewConversation={createNewConversation} />\n        <ChatView messages={activeMessages} loading={loading} prompt={prompt} setPrompt={setPrompt} setFile={setFile} handleSubmit={handleSubmit} messagesEndRef={messagesEndRef} fileInputRef={fileInputRef} file={file} />\n      </div>\n    </>\n  );\n}\n\n// --- All other components (Sidebar, ChatView, ChatMessage, etc.) remain the same ---\n// (For brevity, I'm including only the necessary components here, the rest are unchanged)\n\nconst Sidebar = ({ conversations, activeConversationId, setActiveConversationId, createNewConversation }) => (\n    <div className=\"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700 shrink-0\">\n      <div className=\"flex items-center mb-6\"><img src={companyLogo} alt=\"Logo\" className=\"w-10 h-10 mr-3 logo-pulse rounded-md\" /><h1 className=\"text-xl font-bold\">LLM Recommender</h1></div>\n      <button onClick={createNewConversation} className=\"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\"><Plus size={20} className=\"mr-2\" />New Chat</button>\n      <div className=\"flex-grow overflow-y-auto pr-2 -mr-2\"><h2 className=\"text-sm font-semibold text-gray-400 mb-2 px-2\">History</h2>{conversations.map(c => (<div key={c.id} onClick={() => setActiveConversationId(c.id)} className={`flex items-center p-2 rounded-lg cursor-pointer ${activeConversationId === c.id ? 'bg-gray-700' : 'hover:bg-gray-800'}`}><MessageSquare size={16} className=\"mr-3 shrink-0\" /><span className=\"truncate text-sm\">{c.name}</span></div>))}</div>\n      <div className=\"mt-auto text-xs text-gray-500 pt-4 border-t border-gray-700\"><p>Made with 💜 at Caze Labs</p><p>v21.0 (Dual AI)</p></div>\n    </div>\n);\n\nconst ChatView = ({ messages, loading, prompt, setPrompt, setFile, handleSubmit, messagesEndRef, fileInputRef, file }) => (\n    <div className=\"flex-1 flex flex-col h-full bg-gray-800\">\n      <main className=\"flex-1 overflow-y-auto p-6\">{messages.length === 0 && !loading ? <WelcomeScreen /> : messages.map(m => <ChatMessage key={m.id} message={m} />)}{loading && <LoadingIndicator />}<div ref={messagesEndRef} /></main>\n      <footer className=\"p-4 bg-gray-800/80 backdrop-blur-sm border-t border-gray-700\">\n        <div className=\"max-w-4xl mx-auto\">\n          {file && (<div className=\"mb-2 flex items-center justify-between bg-gray-600 px-3 py-1 rounded-md text-sm\"><span>Attached: {file.name}</span><button onClick={() => setFile(null)}><X size={16} /></button></div>)}\n          <form onSubmit={handleSubmit} className=\"bg-gray-700 rounded-xl p-2 flex items-center w-full\">\n            <button type=\"button\" onClick={() => fileInputRef.current?.click()} className=\"p-2 text-gray-400 hover:text-white\"><Paperclip size={20} /></button>\n            <input type=\"file\" ref={fileInputRef} className=\"hidden\" onChange={e => setFile(e.target.files[0])} />\n            <textarea className=\"flex-1 bg-transparent resize-none focus:outline-none px-4\" placeholder=\"Ask me anything...\" rows={1} value={prompt} onChange={e => setPrompt(e.target.value)} onKeyDown={e => {if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); handleSubmit(e); }}} />\n            <button type=\"submit\" disabled={loading || (!prompt.trim() && !file)} className=\"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50\"><ArrowUp size={20} /></button>\n          </form>\n        </div>\n      </footer>\n    </div>\n);\n\nconst ChatMessage = ({ message }) => (\n    <div className=\"flex items-start gap-4 my-6\">\n      <div className={`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${message.role === 'user' ? 'bg-blue-500' : 'bg-purple-500'}`}>{message.role === 'user' ? <User size={20} /> : <img src={companyLogo} alt=\"AI\" className=\"w-6 h-6 rounded-full\" />}</div>\n      <div className=\"flex flex-col\"><p className=\"font-bold\">{message.role === 'user' ? 'You' : 'AI Assistant'}</p><div className=\"prose prose-invert max-w-none whitespace-pre-wrap\" dangerouslySetInnerHTML={{ __html: message.text.replace(/\\n/g, '<br />') }}></div></div>\n    </div>\n);\n\nconst WelcomeScreen = () => (<div className=\"flex flex-col items-center justify-center h-full text-center\"><img src={companyLogo} alt=\"Logo\" className=\"w-24 h-24 mb-6 logo-pulse rounded-md\" /><h2 className=\"text-4xl font-bold mb-2\">How can I help you today?</h2></div>);\nconst LoadingIndicator = () => (<div className=\"flex items-start gap-4 my-6\"><div className=\"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center shrink-0\"><img src={companyLogo} alt=\"AI\" className=\"w-6 h-6 rounded-full animate-pulse\" /></div><div className=\"flex flex-col\"><p className=\"font-bold\">AI Assistant</p><div className=\"flex items-center gap-2 pt-2\"><span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"></span><span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"></span><span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"></span></div></div></div>);\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}