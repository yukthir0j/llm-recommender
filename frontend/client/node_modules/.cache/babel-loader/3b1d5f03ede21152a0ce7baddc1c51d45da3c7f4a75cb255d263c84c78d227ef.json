{"ast":null,"code":"var _jsxFileName = \"C:\\\\caze labes\\\\avial-ai-002\\\\frontend\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, Loader, User, Bot } from 'lucide-react';\n\n// You can replace this with your actual logo import\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst YourLogo = ({\n  className\n}) => /*#__PURE__*/_jsxDEV(\"svg\", {\n  className: className,\n  viewBox: \"0 0 100 100\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: [/*#__PURE__*/_jsxDEV(\"defs\", {\n    children: /*#__PURE__*/_jsxDEV(\"linearGradient\", {\n      id: \"logoGradient\",\n      x1: \"0%\",\n      y1: \"0%\",\n      x2: \"100%\",\n      y2: \"100%\",\n      children: [/*#__PURE__*/_jsxDEV(\"stop\", {\n        offset: \"0%\",\n        style: {\n          stopColor: '#a855f7',\n          stopOpacity: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"stop\", {\n        offset: \"100%\",\n        style: {\n          stopColor: '#3b82f6',\n          stopOpacity: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n    cx: \"50\",\n    cy: \"50\",\n    r: \"45\",\n    fill: \"none\",\n    stroke: \"url(#logoGradient)\",\n    strokeWidth: \"8\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n    x: \"50\",\n    y: \"62\",\n    fontFamily: \"Arial, sans-serif\",\n    fontSize: \"40\",\n    fill: \"url(#logoGradient)\",\n    textAnchor: \"middle\",\n    fontWeight: \"bold\",\n    children: \"C\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 3\n}, this);\n\n// --- Main App Component ---\n_c = YourLogo;\nfunction App() {\n  _s();\n  var _conversations$active;\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [userId] = useState(() => uuidv4()); // Ensure userId is stable\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Effect to scroll to the latest message\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [conversations, activeConversationId]);\n\n  // Function to create a new chat session\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({\n      ...prev,\n      [newId]: {\n        id: newId,\n        name: `New Chat`,\n        messages: []\n      }\n    }));\n    setActiveConversationId(newId);\n  };\n\n  // Start with a new conversation if none exist\n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!prompt.trim() && !file || !activeConversationId) return;\n    setError(null);\n    setLoading(true);\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? {\n        name: file.name,\n        type: file.type\n      } : null,\n      timestamp: new Date().toISOString()\n    };\n\n    // Update state immediately for a responsive feel\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: {\n        ...prev[activeConversationId],\n        name: prev[activeConversationId].messages.length === 0 ? prompt.substring(0, 25) + '...' : prev[activeConversationId].name,\n        messages: [...prev[activeConversationId].messages, userMessage]\n      }\n    }));\n    setPrompt('');\n    setFile(null);\n    const formData = new FormData();\n    formData.append('prompt', prompt);\n    formData.append('user_id', userId);\n    if (file) {\n      formData.append('file', file);\n    }\n    try {\n      const response = await fetch('http://127.0.0.1:8000/chat/', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n\n      // The backend returns the full history, we just need the last message from the bot\n      const botMessageData = data[data.length - 1];\n      const botMessage = {\n        id: botMessageData.id,\n        role: 'bot',\n        text: botMessageData.text || 'Sorry, I received an empty response.',\n        file_url: botMessageData.file_url,\n        timestamp: botMessageData.timestamp\n      };\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...prev[activeConversationId].messages, botMessage]\n        }\n      }));\n    } catch (err) {\n      console.error(err);\n      const errorMessage = {\n        id: uuidv4(),\n        role: 'bot',\n        text: '❌ Error: Failed to connect to the backend. Please ensure it is running and accessible.',\n        timestamp: new Date().toISOString()\n      };\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...prev[activeConversationId].messages, errorMessage]\n        }\n      }));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const activeMessages = ((_conversations$active = conversations[activeConversationId]) === null || _conversations$active === void 0 ? void 0 : _conversations$active.messages) || [];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes pulse {\n            0%, 100% {\n              transform: scale(1);\n              opacity: 1;\n            }\n            50% {\n              transform: scale(1.05);\n              opacity: 0.9;\n            }\n          }\n          .logo-pulse {\n            animation: pulse 4s ease-in-out infinite;\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen w-screen bg-gray-800 text-white font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        conversations: Object.values(conversations),\n        activeConversationId: activeConversationId,\n        setActiveConversationId: setActiveConversationId,\n        createNewConversation: createNewConversation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatView, {\n        messages: activeMessages,\n        loading: loading,\n        prompt: prompt,\n        setPrompt: setPrompt,\n        setFile: setFile,\n        handleSubmit: handleSubmit,\n        messagesEndRef: messagesEndRef,\n        fileInputRef: fileInputRef,\n        file: file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n// --- Sidebar Component ---\n_s(App, \"KOcXBHJpL/6hXZQKghIyfWp+s+g=\");\n_c2 = App;\nconst Sidebar = ({\n  conversations,\n  activeConversationId,\n  setActiveConversationId,\n  createNewConversation\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(YourLogo, {\n        className: \"w-10 h-10 mr-3 logo-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold tracking-wider\",\n        children: \"LLM Recommender\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createNewConversation,\n      className: \"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(Plus, {\n        size: 20,\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), \"New Chat\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow overflow-y-auto pr-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold text-gray-400 mb-2\",\n        children: \"History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), conversations.map(convo => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setActiveConversationId(convo.id),\n        className: `flex items-center p-2 rounded-lg cursor-pointer transition-colors ${activeConversationId === convo.id ? 'bg-gray-700' : 'hover:bg-gray-800'}`,\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          size: 16,\n          className: \"text-gray-400 mr-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"truncate text-sm\",\n          children: convo.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, convo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-auto text-xs text-gray-500\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Made with \\uD83D\\uDC9C at Caze Labs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"v10.0.0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Chat View Component ---\n_c3 = Sidebar;\nconst ChatView = ({\n  messages,\n  loading,\n  prompt,\n  setPrompt,\n  setFile,\n  handleSubmit,\n  messagesEndRef,\n  fileInputRef,\n  file\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 overflow-y-auto p-6\",\n      children: [messages.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(WelcomeScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, msg.id || index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 40\n      }, this)), loading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"p-4 bg-gray-800 border-t border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"max-w-4xl mx-auto bg-gray-700 rounded-xl p-2 flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => {\n            var _fileInputRef$current;\n            return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n          },\n          className: \"p-2 text-gray-400 hover:text-white transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(Paperclip, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          ref: fileInputRef,\n          className: \"hidden\",\n          onChange: e => setFile(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"flex-1 bg-transparent text-white placeholder-gray-400 resize-none focus:outline-none px-4\",\n          placeholder: \"Ask me anything or upload a file...\",\n          rows: 1,\n          value: prompt,\n          onChange: e => setPrompt(e.target.value),\n          onKeyDown: e => {\n            if (e.key === 'Enter' && !e.shiftKey) {\n              e.preventDefault();\n              handleSubmit(e);\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading || !prompt.trim() && !file,\n          className: \"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\",\n          children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), file && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-center text-gray-400 mt-2\",\n        children: [\"Selected file: \", file.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Individual Chat Message Component ---\n_c4 = ChatView;\nconst ChatMessage = ({\n  message\n}) => {\n  const isUser = message.role === 'user';\n  const renderFile = () => {\n    if (!message.file && !message.file_url) return null;\n    if (message.file_url) {\n      // Bot message with a link to uploaded file\n      const isImage = /\\.(jpg|jpeg|png|gif)$/i.test(message.file_url);\n      if (isImage) {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://127.0.0.1:8000${message.file_url}`,\n          alt: \"uploaded content\",\n          className: \"mt-2 rounded-lg max-w-xs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `http://127.0.0.1:8000${message.file_url}`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"text-blue-400 underline block mt-2\",\n        children: \"View Attached File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 14\n      }, this);\n    }\n\n    // User message with a file preview\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 p-2 bg-gray-600 rounded-lg text-xs\",\n      children: [\"Attached: \", message.file.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-start gap-4 my-6`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${isUser ? 'bg-blue-500' : 'bg-purple-500'}`,\n      children: isUser ? /*#__PURE__*/_jsxDEV(User, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(Bot, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 40\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold\",\n        children: isUser ? 'You' : 'AI Assistant'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prose prose-invert max-w-none text-gray-300 whitespace-pre-wrap\",\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), renderFile()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Welcome Screen Component ---\n_c5 = ChatMessage;\nconst WelcomeScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col items-center justify-center h-full text-center\",\n  children: [/*#__PURE__*/_jsxDEV(YourLogo, {\n    className: \"w-24 h-24 mb-6 logo-pulse\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-4xl font-bold mb-2\",\n    children: \"How can I help you today?\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-400\",\n    children: \"Start a conversation, upload a file, or ask me for a model recommendation.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 325,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 322,\n  columnNumber: 3\n}, this);\n\n// --- Loading Indicator Component ---\n_c6 = WelcomeScreen;\nconst LoadingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-start gap-4 my-6\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center flex-shrink-0\",\n    children: /*#__PURE__*/_jsxDEV(Bot, {\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center gap-2 pt-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 331,\n  columnNumber: 5\n}, this);\n_c7 = LoadingIndicator;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"YourLogo\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"Sidebar\");\n$RefreshReg$(_c4, \"ChatView\");\n$RefreshReg$(_c5, \"ChatMessage\");\n$RefreshReg$(_c6, \"WelcomeScreen\");\n$RefreshReg$(_c7, \"LoadingIndicator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","v4","uuidv4","Plus","MessageSquare","Paperclip","ArrowUp","Loader","User","Bot","jsxDEV","_jsxDEV","Fragment","_Fragment","YourLogo","className","viewBox","xmlns","children","id","x1","y1","x2","y2","offset","style","stopColor","stopOpacity","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","fill","stroke","strokeWidth","x","y","fontFamily","fontSize","textAnchor","fontWeight","_c","App","_s","_conversations$active","conversations","setConversations","activeConversationId","setActiveConversationId","prompt","setPrompt","file","setFile","loading","setLoading","error","setError","userId","messagesEndRef","fileInputRef","_messagesEndRef$curre","current","scrollIntoView","behavior","createNewConversation","newId","prev","name","messages","Object","keys","length","handleSubmit","e","preventDefault","trim","userMessage","role","text","type","timestamp","Date","toISOString","substring","formData","FormData","append","response","fetch","method","body","ok","Error","status","data","json","botMessageData","botMessage","file_url","err","console","errorMessage","activeMessages","Sidebar","values","ChatView","_c2","onClick","size","map","convo","_c3","WelcomeScreen","msg","index","ChatMessage","message","LoadingIndicator","ref","onSubmit","_fileInputRef$current","click","onChange","target","files","placeholder","rows","value","onKeyDown","key","shiftKey","disabled","_c4","isUser","renderFile","isImage","test","src","alt","href","rel","_c5","_c6","_c7","$RefreshReg$"],"sources":["C:/caze labes/avial-ai-002/frontend/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, Loader, User, Bot } from 'lucide-react';\n\n// You can replace this with your actual logo import\nconst YourLogo = ({ className }) => (\n  <svg className={className} viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <defs>\n      <linearGradient id=\"logoGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n        <stop offset=\"0%\" style={{stopColor: '#a855f7', stopOpacity: 1}} />\n        <stop offset=\"100%\" style={{stopColor: '#3b82f6', stopOpacity: 1}} />\n      </linearGradient>\n    </defs>\n    <circle cx=\"50\" cy=\"50\" r=\"45\" fill=\"none\" stroke=\"url(#logoGradient)\" strokeWidth=\"8\"/>\n    <text x=\"50\" y=\"62\" fontFamily=\"Arial, sans-serif\" fontSize=\"40\" fill=\"url(#logoGradient)\" textAnchor=\"middle\" fontWeight=\"bold\">C</text>\n  </svg>\n);\n\n\n// --- Main App Component ---\nfunction App() {\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [userId] = useState(() => uuidv4()); // Ensure userId is stable\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Effect to scroll to the latest message\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [conversations, activeConversationId]);\n\n  // Function to create a new chat session\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({\n      ...prev,\n      [newId]: { id: newId, name: `New Chat`, messages: [] }\n    }));\n    setActiveConversationId(newId);\n  };\n  \n  // Start with a new conversation if none exist\n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, []);\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if ((!prompt.trim() && !file) || !activeConversationId) return;\n\n    setError(null);\n    setLoading(true);\n\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? { name: file.name, type: file.type } : null,\n      timestamp: new Date().toISOString(),\n    };\n\n    // Update state immediately for a responsive feel\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: {\n        ...prev[activeConversationId],\n        name: prev[activeConversationId].messages.length === 0 ? (prompt.substring(0, 25) + '...') : prev[activeConversationId].name,\n        messages: [...prev[activeConversationId].messages, userMessage],\n      }\n    }));\n    setPrompt('');\n    setFile(null);\n\n    const formData = new FormData();\n    formData.append('prompt', prompt);\n    formData.append('user_id', userId);\n    if (file) {\n      formData.append('file', file);\n    }\n\n    try {\n      const response = await fetch('http://127.0.0.1:8000/chat/', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      \n      // The backend returns the full history, we just need the last message from the bot\n      const botMessageData = data[data.length - 1];\n      \n      const botMessage = {\n        id: botMessageData.id,\n        role: 'bot',\n        text: botMessageData.text || 'Sorry, I received an empty response.',\n        file_url: botMessageData.file_url,\n        timestamp: botMessageData.timestamp,\n      };\n\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...prev[activeConversationId].messages, botMessage],\n        }\n      }));\n\n    } catch (err) {\n      console.error(err);\n      const errorMessage = {\n        id: uuidv4(),\n        role: 'bot',\n        text: '❌ Error: Failed to connect to the backend. Please ensure it is running and accessible.',\n        timestamp: new Date().toISOString(),\n      };\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...prev[activeConversationId].messages, errorMessage],\n        }\n      }));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const activeMessages = conversations[activeConversationId]?.messages || [];\n\n  return (\n    <>\n      {/* This style tag contains the animation for the logo */}\n      <style>\n        {`\n          @keyframes pulse {\n            0%, 100% {\n              transform: scale(1);\n              opacity: 1;\n            }\n            50% {\n              transform: scale(1.05);\n              opacity: 0.9;\n            }\n          }\n          .logo-pulse {\n            animation: pulse 4s ease-in-out infinite;\n          }\n        `}\n      </style>\n      <div className=\"flex h-screen w-screen bg-gray-800 text-white font-sans\">\n        {/* --- Sidebar --- */}\n        <Sidebar \n          conversations={Object.values(conversations)}\n          activeConversationId={activeConversationId}\n          setActiveConversationId={setActiveConversationId}\n          createNewConversation={createNewConversation}\n        />\n        \n        {/* --- Main Chat View --- */}\n        <ChatView\n          messages={activeMessages}\n          loading={loading}\n          prompt={prompt}\n          setPrompt={setPrompt}\n          setFile={setFile}\n          handleSubmit={handleSubmit}\n          messagesEndRef={messagesEndRef}\n          fileInputRef={fileInputRef}\n          file={file}\n        />\n      </div>\n    </>\n  );\n}\n\n// --- Sidebar Component ---\nconst Sidebar = ({ conversations, activeConversationId, setActiveConversationId, createNewConversation }) => {\n  return (\n    <div className=\"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700\">\n      <div className=\"flex items-center mb-6\">\n        <YourLogo className=\"w-10 h-10 mr-3 logo-pulse\" />\n        <h1 className=\"text-xl font-bold tracking-wider\">LLM Recommender</h1>\n      </div>\n\n      <button\n        onClick={createNewConversation}\n        className=\"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\"\n      >\n        <Plus size={20} className=\"mr-2\" />\n        New Chat\n      </button>\n\n      <div className=\"flex-grow overflow-y-auto pr-2\">\n        <h2 className=\"text-sm font-semibold text-gray-400 mb-2\">History</h2>\n        {conversations.map(convo => (\n          <div\n            key={convo.id}\n            onClick={() => setActiveConversationId(convo.id)}\n            className={`flex items-center p-2 rounded-lg cursor-pointer transition-colors ${\n              activeConversationId === convo.id\n                ? 'bg-gray-700'\n                : 'hover:bg-gray-800'\n            }`}\n          >\n            <MessageSquare size={16} className=\"text-gray-400 mr-3\" />\n            <span className=\"truncate text-sm\">{convo.name}</span>\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"mt-auto text-xs text-gray-500\">\n        <p>Made with 💜 at Caze Labs</p>\n        <p>v10.0.0</p>\n      </div>\n    </div>\n  );\n};\n\n// --- Chat View Component ---\nconst ChatView = ({ messages, loading, prompt, setPrompt, setFile, handleSubmit, messagesEndRef, fileInputRef, file }) => {\n  return (\n    <div className=\"flex-1 flex flex-col h-full\">\n      <main className=\"flex-1 overflow-y-auto p-6\">\n        {messages.length === 0 && !loading ? (\n          <WelcomeScreen />\n        ) : (\n          messages.map((msg, index) => <ChatMessage key={msg.id || index} message={msg} />)\n        )}\n        {loading && <LoadingIndicator />}\n        <div ref={messagesEndRef} />\n      </main>\n\n      <footer className=\"p-4 bg-gray-800 border-t border-gray-700\">\n        <form onSubmit={handleSubmit} className=\"max-w-4xl mx-auto bg-gray-700 rounded-xl p-2 flex items-center\">\n          <button\n            type=\"button\"\n            onClick={() => fileInputRef.current?.click()}\n            className=\"p-2 text-gray-400 hover:text-white transition-colors\"\n          >\n            <Paperclip size={20} />\n          </button>\n          <input\n            type=\"file\"\n            ref={fileInputRef}\n            className=\"hidden\"\n            onChange={(e) => setFile(e.target.files[0])}\n          />\n          <textarea\n            className=\"flex-1 bg-transparent text-white placeholder-gray-400 resize-none focus:outline-none px-4\"\n            placeholder=\"Ask me anything or upload a file...\"\n            rows={1}\n            value={prompt}\n            onChange={(e) => setPrompt(e.target.value)}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSubmit(e);\n              }\n            }}\n          />\n          <button\n            type=\"submit\"\n            disabled={loading || (!prompt.trim() && !file)}\n            className=\"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            <ArrowUp size={20} />\n          </button>\n        </form>\n        {file && <p className=\"text-xs text-center text-gray-400 mt-2\">Selected file: {file.name}</p>}\n      </footer>\n    </div>\n  );\n};\n\n// --- Individual Chat Message Component ---\nconst ChatMessage = ({ message }) => {\n  const isUser = message.role === 'user';\n\n  const renderFile = () => {\n    if (!message.file && !message.file_url) return null;\n    \n    if (message.file_url) { // Bot message with a link to uploaded file\n      const isImage = /\\.(jpg|jpeg|png|gif)$/i.test(message.file_url);\n      if (isImage) {\n        return <img src={`http://127.0.0.1:8000${message.file_url}`} alt=\"uploaded content\" className=\"mt-2 rounded-lg max-w-xs\" />\n      }\n      return <a href={`http://127.0.0.1:8000${message.file_url}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 underline block mt-2\">View Attached File</a>;\n    }\n    \n    // User message with a file preview\n    return <div className=\"mt-2 p-2 bg-gray-600 rounded-lg text-xs\">Attached: {message.file.name}</div>;\n  };\n\n  return (\n    <div className={`flex items-start gap-4 my-6`}>\n      <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${isUser ? 'bg-blue-500' : 'bg-purple-500'}`}>\n        {isUser ? <User size={20} /> : <Bot size={20} />}\n      </div>\n      <div className=\"flex flex-col\">\n        <p className=\"font-bold\">{isUser ? 'You' : 'AI Assistant'}</p>\n        <div className=\"prose prose-invert max-w-none text-gray-300 whitespace-pre-wrap\">{message.text}</div>\n        {renderFile()}\n      </div>\n    </div>\n  );\n};\n\n// --- Welcome Screen Component ---\nconst WelcomeScreen = () => (\n  <div className=\"flex flex-col items-center justify-center h-full text-center\">\n    <YourLogo className=\"w-24 h-24 mb-6 logo-pulse\" />\n    <h2 className=\"text-4xl font-bold mb-2\">How can I help you today?</h2>\n    <p className=\"text-gray-400\">Start a conversation, upload a file, or ask me for a model recommendation.</p>\n  </div>\n);\n\n// --- Loading Indicator Component ---\nconst LoadingIndicator = () => (\n    <div className=\"flex items-start gap-4 my-6\">\n        <div className=\"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center flex-shrink-0\">\n            <Bot size={20} />\n        </div>\n        <div className=\"flex items-center gap-2 pt-2\">\n            <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"></span>\n            <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"></span>\n            <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"></span>\n        </div>\n    </div>\n);\n\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}