{"ast":null,"code":"var _jsxFileName = \"C:\\\\caze labes\\\\avial-ai-002\\\\frontend\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, User, Bot, X } from 'lucide-react';\n\n// --- IMPORTANT ---\n// For this to work, you MUST save your company logo file to this exact path:\n// frontend/client/src/logo.jpg\nimport companyLogo from './logo.jpg';\n\n// --- Main App Component ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  var _conversations$active2;\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userId] = useState(() => uuidv4());\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [conversations, activeConversationId]);\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({\n      ...prev,\n      [newId]: {\n        id: newId,\n        name: `New Chat`,\n        messages: []\n      }\n    }));\n    setActiveConversationId(newId);\n    setFile(null); // Clear file on new chat\n  };\n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, [conversations]);\n  const handleSubmit = async e => {\n    var _conversations$active;\n    e.preventDefault();\n    if (!prompt.trim() && !file || !activeConversationId) return;\n    setLoading(true);\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? {\n        name: file.name,\n        type: file.type\n      } : null,\n      timestamp: new Date().toISOString()\n    };\n    const currentMessages = ((_conversations$active = conversations[activeConversationId]) === null || _conversations$active === void 0 ? void 0 : _conversations$active.messages) || [];\n    const updatedName = currentMessages.length === 0 ? prompt.substring(0, 25) + (prompt.length > 25 ? '...' : '') : conversations[activeConversationId].name;\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: {\n        ...prev[activeConversationId],\n        name: updatedName,\n        messages: [...currentMessages, userMessage]\n      }\n    }));\n    const tempPrompt = prompt;\n    const tempFile = file;\n    setPrompt('');\n    setFile(null);\n    const formData = new FormData();\n    formData.append('prompt', tempPrompt);\n    formData.append('user_id', userId);\n    if (tempFile) {\n      formData.append('file', tempFile);\n    }\n    try {\n      // This now correctly points to your local backend for ALL requests.\n      const response = await fetch('http://127.0.0.1:8000/chat/', {\n        method: 'POST',\n        body: formData\n      });\n      if (!response.ok) {\n        throw new Error(`The server responded with an error: ${response.status}`);\n      }\n      const data = await response.json();\n      const botMessageData = data[data.length - 1];\n      const botMessage = {\n        id: botMessageData.id,\n        role: 'bot',\n        text: botMessageData.text || 'I received an empty response.',\n        file_url: botMessageData.file_url,\n        timestamp: botMessageData.timestamp\n      };\n      setConversations(prev => {\n        var _prev$activeConversat;\n        return {\n          ...prev,\n          [activeConversationId]: {\n            ...prev[activeConversationId],\n            messages: [...(((_prev$activeConversat = prev[activeConversationId]) === null || _prev$activeConversat === void 0 ? void 0 : _prev$activeConversat.messages) || []), botMessage]\n          }\n        };\n      });\n    } catch (err) {\n      console.error(err);\n      const errorMessage = {\n        id: uuidv4(),\n        role: 'bot',\n        text: `âŒ An error occurred. Please check the backend console for details. [${err.message}]`,\n        timestamp: new Date().toISOString()\n      };\n      setConversations(prev => {\n        var _prev$activeConversat2;\n        return {\n          ...prev,\n          [activeConversationId]: {\n            ...prev[activeConversationId],\n            messages: [...(((_prev$activeConversat2 = prev[activeConversationId]) === null || _prev$activeConversat2 === void 0 ? void 0 : _prev$activeConversat2.messages) || []), errorMessage]\n          }\n        };\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const activeMessages = ((_conversations$active2 = conversations[activeConversationId]) === null || _conversations$active2 === void 0 ? void 0 : _conversations$active2.messages) || [];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.9; } }\n          .logo-pulse { animation: pulse 4s ease-in-out infinite; }\n          .prose { max-width: 65ch; }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-screen w-screen bg-gray-800 text-white font-sans\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n        conversations: Object.values(conversations),\n        activeConversationId: activeConversationId,\n        setActiveConversationId: setActiveConversationId,\n        createNewConversation: createNewConversation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatView, {\n        messages: activeMessages,\n        loading: loading,\n        prompt: prompt,\n        setPrompt: setPrompt,\n        setFile: setFile,\n        handleSubmit: handleSubmit,\n        messagesEndRef: messagesEndRef,\n        fileInputRef: fileInputRef,\n        file: file\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n// --- Sidebar Component ---\n_s(App, \"c/AutSzMqC7TozUc6O6FHjIS/dQ=\");\n_c = App;\nconst Sidebar = ({\n  conversations,\n  activeConversationId,\n  setActiveConversationId,\n  createNewConversation\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700 shrink-0\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: companyLogo,\n        alt: \"Company Logo\",\n        className: \"w-10 h-10 mr-3 logo-pulse rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-xl font-bold tracking-wider\",\n        children: \"LLM Recommender\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: createNewConversation,\n      className: \"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(Plus, {\n        size: 20,\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), \"New Chat\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-grow overflow-y-auto pr-2 -mr-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-sm font-semibold text-gray-400 mb-2 px-2\",\n        children: \"History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), conversations.map(convo => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => setActiveConversationId(convo.id),\n        className: `flex items-center p-2 rounded-lg cursor-pointer transition-colors ${activeConversationId === convo.id ? 'bg-gray-700' : 'hover:bg-gray-800'}`,\n        children: [/*#__PURE__*/_jsxDEV(MessageSquare, {\n          size: 16,\n          className: \"text-gray-400 mr-3 shrink-0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"truncate text-sm\",\n          children: convo.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)]\n      }, convo.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-auto text-xs text-gray-500 pt-4 border-t border-gray-700\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Made with \\uD83D\\uDC9C at Caze Labs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"v25.0 (Final Stable)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 169,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Chat View Component ---\n_c2 = Sidebar;\nconst ChatView = ({\n  messages,\n  loading,\n  prompt,\n  setPrompt,\n  setFile,\n  handleSubmit,\n  messagesEndRef,\n  fileInputRef,\n  file\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 flex flex-col h-full bg-gray-800\",\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 overflow-y-auto p-6\",\n      children: [messages.length === 0 && !loading ? /*#__PURE__*/_jsxDEV(WelcomeScreen, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this) : messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n        message: msg\n      }, msg.id || index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 40\n      }, this)), loading && /*#__PURE__*/_jsxDEV(LoadingIndicator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"p-4 bg-gray-800/80 backdrop-blur-sm border-t border-gray-700\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-4xl mx-auto\",\n        children: [file && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 flex items-center justify-between bg-gray-600 px-3 py-1 rounded-md text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Attached: \", file.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setFile(null),\n            className: \"text-gray-400 hover:text-white\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"bg-gray-700 rounded-xl p-2 flex items-center w-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              var _fileInputRef$current;\n              return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n            },\n            className: \"p-2 text-gray-400 hover:text-white transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(Paperclip, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            ref: fileInputRef,\n            className: \"hidden\",\n            onChange: e => setFile(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"flex-1 bg-transparent text-white placeholder-gray-400 resize-none focus:outline-none px-4\",\n            placeholder: \"Ask me anything, or upload a file...\",\n            rows: 1,\n            value: prompt,\n            onChange: e => setPrompt(e.target.value),\n            onKeyDown: e => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSubmit(e);\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading || !prompt.trim() && !file,\n            className: \"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: /*#__PURE__*/_jsxDEV(ArrowUp, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Individual Chat Message Component ---\n_c3 = ChatView;\nconst ChatMessage = ({\n  message\n}) => {\n  const isUser = message.role === 'user';\n  const renderFile = () => {\n    if (!message.file && !message.file_url) return null;\n    if (message.file) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2 p-2 bg-gray-600 rounded-lg text-xs\",\n        children: [\"Attached: \", message.file.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 16\n      }, this);\n    }\n    if (message.file_url) {\n      return /*#__PURE__*/_jsxDEV(\"a\", {\n        href: `http://127.0.0.1:8000${message.file_url}`,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        className: \"text-blue-400 underline block mt-2\",\n        children: \"View Attached File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 14\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `flex items-start gap-4 my-6`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${isUser ? 'bg-blue-500' : 'bg-purple-500'}`,\n      children: isUser ? /*#__PURE__*/_jsxDEV(User, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 19\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: companyLogo,\n        alt: \"AI\",\n        className: \"w-6 h-6 rounded-full\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 40\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-bold\",\n        children: isUser ? 'You' : 'AI Assistant'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prose prose-invert max-w-none text-gray-300 whitespace-pre-wrap\",\n        dangerouslySetInnerHTML: {\n          __html: message.text.replace(/\\n/g, '<br />')\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), renderFile()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n};\n\n// --- Welcome Screen Component ---\n_c4 = ChatMessage;\nconst WelcomeScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex flex-col items-center justify-center h-full text-center\",\n  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n    src: companyLogo,\n    alt: \"Company Logo\",\n    className: \"w-24 h-24 mb-6 logo-pulse rounded-md\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    className: \"text-4xl font-bold mb-2\",\n    children: \"How can I help you today?\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 305,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-gray-400\",\n    children: \"Start a conversation, upload a file, or ask for a model recommendation.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 303,\n  columnNumber: 3\n}, this);\n\n// --- Loading Indicator Component ---\n_c5 = WelcomeScreen;\nconst LoadingIndicator = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"flex items-start gap-4 my-6\",\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center flex-shrink-0\",\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      src: companyLogo,\n      alt: \"AI\",\n      className: \"w-6 h-6 rounded-full animate-pulse\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 9\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"font-bold\",\n      children: \"AI Assistant\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-2 pt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 9\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 312,\n  columnNumber: 5\n}, this);\n_c6 = LoadingIndicator;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Sidebar\");\n$RefreshReg$(_c3, \"ChatView\");\n$RefreshReg$(_c4, \"ChatMessage\");\n$RefreshReg$(_c5, \"WelcomeScreen\");\n$RefreshReg$(_c6, \"LoadingIndicator\");","map":{"version":3,"names":["React","useState","useEffect","useRef","v4","uuidv4","Plus","MessageSquare","Paperclip","ArrowUp","User","Bot","X","companyLogo","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","_conversations$active2","conversations","setConversations","activeConversationId","setActiveConversationId","prompt","setPrompt","file","setFile","loading","setLoading","userId","messagesEndRef","fileInputRef","_messagesEndRef$curre","current","scrollIntoView","behavior","createNewConversation","newId","prev","id","name","messages","Object","keys","length","handleSubmit","e","_conversations$active","preventDefault","trim","userMessage","role","text","type","timestamp","Date","toISOString","currentMessages","updatedName","substring","tempPrompt","tempFile","formData","FormData","append","response","fetch","method","body","ok","Error","status","data","json","botMessageData","botMessage","file_url","_prev$activeConversat","err","console","error","errorMessage","message","_prev$activeConversat2","activeMessages","children","fileName","_jsxFileName","lineNumber","columnNumber","className","Sidebar","values","ChatView","_c","src","alt","onClick","size","map","convo","_c2","WelcomeScreen","msg","index","ChatMessage","LoadingIndicator","ref","onSubmit","_fileInputRef$current","click","onChange","target","files","placeholder","rows","value","onKeyDown","key","shiftKey","disabled","_c3","isUser","renderFile","href","rel","dangerouslySetInnerHTML","__html","replace","_c4","_c5","_c6","$RefreshReg$"],"sources":["C:/caze labes/avial-ai-002/frontend/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Plus, MessageSquare, Paperclip, ArrowUp, User, Bot, X } from 'lucide-react';\n\n// --- IMPORTANT ---\n// For this to work, you MUST save your company logo file to this exact path:\n// frontend/client/src/logo.jpg\nimport companyLogo from './logo.jpg';\n\n\n// --- Main App Component ---\nfunction App() {\n  const [conversations, setConversations] = useState({});\n  const [activeConversationId, setActiveConversationId] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userId] = useState(() => uuidv4());\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [conversations, activeConversationId]);\n\n  const createNewConversation = () => {\n    const newId = uuidv4();\n    setConversations(prev => ({\n      ...prev,\n      [newId]: { id: newId, name: `New Chat`, messages: [] }\n    }));\n    setActiveConversationId(newId);\n    setFile(null); // Clear file on new chat\n  };\n  \n  useEffect(() => {\n    if (Object.keys(conversations).length === 0) {\n      createNewConversation();\n    }\n  }, [conversations]);\n\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if ((!prompt.trim() && !file) || !activeConversationId) return;\n\n    setLoading(true);\n\n    const userMessage = {\n      id: uuidv4(),\n      role: 'user',\n      text: prompt,\n      file: file ? { name: file.name, type: file.type } : null,\n      timestamp: new Date().toISOString(),\n    };\n\n    const currentMessages = conversations[activeConversationId]?.messages || [];\n    const updatedName = currentMessages.length === 0 ? (prompt.substring(0, 25) + (prompt.length > 25 ? '...' : '')) : conversations[activeConversationId].name;\n\n    setConversations(prev => ({\n      ...prev,\n      [activeConversationId]: {\n        ...prev[activeConversationId],\n        name: updatedName,\n        messages: [...currentMessages, userMessage],\n      }\n    }));\n    \n    const tempPrompt = prompt;\n    const tempFile = file;\n    setPrompt('');\n    setFile(null);\n\n    const formData = new FormData();\n    formData.append('prompt', tempPrompt);\n    formData.append('user_id', userId);\n    if (tempFile) {\n      formData.append('file', tempFile);\n    }\n\n    try {\n      // This now correctly points to your local backend for ALL requests.\n      const response = await fetch('http://127.0.0.1:8000/chat/', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error(`The server responded with an error: ${response.status}`);\n      }\n\n      const data = await response.json();\n      const botMessageData = data[data.length - 1];\n      \n      const botMessage = {\n        id: botMessageData.id,\n        role: 'bot',\n        text: botMessageData.text || 'I received an empty response.',\n        file_url: botMessageData.file_url,\n        timestamp: botMessageData.timestamp,\n      };\n\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...(prev[activeConversationId]?.messages || []), botMessage],\n        }\n      }));\n\n    } catch (err) {\n      console.error(err);\n      const errorMessage = {\n        id: uuidv4(),\n        role: 'bot',\n        text: `âŒ An error occurred. Please check the backend console for details. [${err.message}]`,\n        timestamp: new Date().toISOString(),\n      };\n      setConversations(prev => ({\n        ...prev,\n        [activeConversationId]: {\n          ...prev[activeConversationId],\n          messages: [...(prev[activeConversationId]?.messages || []), errorMessage],\n        }\n      }));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const activeMessages = conversations[activeConversationId]?.messages || [];\n\n  return (\n    <>\n      <style>\n        {`\n          @keyframes pulse { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.9; } }\n          .logo-pulse { animation: pulse 4s ease-in-out infinite; }\n          .prose { max-width: 65ch; }\n        `}\n      </style>\n      <div className=\"flex h-screen w-screen bg-gray-800 text-white font-sans\">\n        <Sidebar \n          conversations={Object.values(conversations)}\n          activeConversationId={activeConversationId}\n          setActiveConversationId={setActiveConversationId}\n          createNewConversation={createNewConversation}\n        />\n        \n        <ChatView\n          messages={activeMessages}\n          loading={loading}\n          prompt={prompt}\n          setPrompt={setPrompt}\n          setFile={setFile}\n          handleSubmit={handleSubmit}\n          messagesEndRef={messagesEndRef}\n          fileInputRef={fileInputRef}\n          file={file}\n        />\n      </div>\n    </>\n  );\n}\n\n// --- Sidebar Component ---\nconst Sidebar = ({ conversations, activeConversationId, setActiveConversationId, createNewConversation }) => {\n  return (\n    <div className=\"w-64 bg-gray-900 p-4 flex flex-col h-full border-r border-gray-700 shrink-0\">\n      <div className=\"flex items-center mb-6\">\n        <img src={companyLogo} alt=\"Company Logo\" className=\"w-10 h-10 mr-3 logo-pulse rounded-md\" />\n        <h1 className=\"text-xl font-bold tracking-wider\">LLM Recommender</h1>\n      </div>\n\n      <button\n        onClick={createNewConversation}\n        className=\"flex items-center justify-center w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white font-semibold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity mb-6\"\n      >\n        <Plus size={20} className=\"mr-2\" />\n        New Chat\n      </button>\n\n      <div className=\"flex-grow overflow-y-auto pr-2 -mr-2\">\n        <h2 className=\"text-sm font-semibold text-gray-400 mb-2 px-2\">History</h2>\n        {conversations.map(convo => (\n          <div\n            key={convo.id}\n            onClick={() => setActiveConversationId(convo.id)}\n            className={`flex items-center p-2 rounded-lg cursor-pointer transition-colors ${\n              activeConversationId === convo.id ? 'bg-gray-700' : 'hover:bg-gray-800'\n            }`}\n          >\n            <MessageSquare size={16} className=\"text-gray-400 mr-3 shrink-0\" />\n            <span className=\"truncate text-sm\">{convo.name}</span>\n          </div>\n        ))}\n      </div>\n      \n      <div className=\"mt-auto text-xs text-gray-500 pt-4 border-t border-gray-700\">\n        <p>Made with ðŸ’œ at Caze Labs</p>\n        <p>v25.0 (Final Stable)</p>\n      </div>\n    </div>\n  );\n};\n\n// --- Chat View Component ---\nconst ChatView = ({ messages, loading, prompt, setPrompt, setFile, handleSubmit, messagesEndRef, fileInputRef, file }) => {\n  return (\n    <div className=\"flex-1 flex flex-col h-full bg-gray-800\">\n      <main className=\"flex-1 overflow-y-auto p-6\">\n        {messages.length === 0 && !loading ? (\n          <WelcomeScreen />\n        ) : (\n          messages.map((msg, index) => <ChatMessage key={msg.id || index} message={msg} />)\n        )}\n        {loading && <LoadingIndicator />}\n        <div ref={messagesEndRef} />\n      </main>\n\n      <footer className=\"p-4 bg-gray-800/80 backdrop-blur-sm border-t border-gray-700\">\n        <div className=\"max-w-4xl mx-auto\">\n          {file && (\n            <div className=\"mb-2 flex items-center justify-between bg-gray-600 px-3 py-1 rounded-md text-sm\">\n              <span>Attached: {file.name}</span>\n              <button onClick={() => setFile(null)} className=\"text-gray-400 hover:text-white\">\n                <X size={16} />\n              </button>\n            </div>\n          )}\n          <form onSubmit={handleSubmit} className=\"bg-gray-700 rounded-xl p-2 flex items-center w-full\">\n            <button\n              type=\"button\"\n              onClick={() => fileInputRef.current?.click()}\n              className=\"p-2 text-gray-400 hover:text-white transition-colors\"\n            >\n              <Paperclip size={20} />\n            </button>\n            <input\n              type=\"file\"\n              ref={fileInputRef}\n              className=\"hidden\"\n              onChange={(e) => setFile(e.target.files[0])}\n            />\n            <textarea\n              className=\"flex-1 bg-transparent text-white placeholder-gray-400 resize-none focus:outline-none px-4\"\n              placeholder=\"Ask me anything, or upload a file...\"\n              rows={1}\n              value={prompt}\n              onChange={(e) => setPrompt(e.target.value)}\n              onKeyDown={(e) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  handleSubmit(e);\n                }\n              }}\n            />\n            <button\n              type=\"submit\"\n              disabled={loading || (!prompt.trim() && !file)}\n              className=\"p-2 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ArrowUp size={20} />\n            </button>\n          </form>\n        </div>\n      </footer>\n    </div>\n  );\n};\n\n// --- Individual Chat Message Component ---\nconst ChatMessage = ({ message }) => {\n  const isUser = message.role === 'user';\n\n  const renderFile = () => {\n    if (!message.file && !message.file_url) return null;\n    if (message.file) {\n        return <div className=\"mt-2 p-2 bg-gray-600 rounded-lg text-xs\">Attached: {message.file.name}</div>;\n    }\n    if (message.file_url) {\n      return <a href={`http://127.0.0.1:8000${message.file_url}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-400 underline block mt-2\">View Attached File</a>;\n    }\n    return null;\n  };\n\n  return (\n    <div className={`flex items-start gap-4 my-6`}>\n      <div className={`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${isUser ? 'bg-blue-500' : 'bg-purple-500'}`}>\n        {isUser ? <User size={20} /> : <img src={companyLogo} alt=\"AI\" className=\"w-6 h-6 rounded-full\" />}\n      </div>\n      <div className=\"flex flex-col\">\n        <p className=\"font-bold\">{isUser ? 'You' : 'AI Assistant'}</p>\n        <div className=\"prose prose-invert max-w-none text-gray-300 whitespace-pre-wrap\" dangerouslySetInnerHTML={{ __html: message.text.replace(/\\n/g, '<br />') }}></div>\n        {renderFile()}\n      </div>\n    </div>\n  );\n};\n\n// --- Welcome Screen Component ---\nconst WelcomeScreen = () => (\n  <div className=\"flex flex-col items-center justify-center h-full text-center\">\n    <img src={companyLogo} alt=\"Company Logo\" className=\"w-24 h-24 mb-6 logo-pulse rounded-md\" />\n    <h2 className=\"text-4xl font-bold mb-2\">How can I help you today?</h2>\n    <p className=\"text-gray-400\">Start a conversation, upload a file, or ask for a model recommendation.</p>\n  </div>\n);\n\n// --- Loading Indicator Component ---\nconst LoadingIndicator = () => (\n    <div className=\"flex items-start gap-4 my-6\">\n        <div className=\"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center flex-shrink-0\">\n            <img src={companyLogo} alt=\"AI\" className=\"w-6 h-6 rounded-full animate-pulse\" />\n        </div>\n        <div className=\"flex flex-col\">\n          <p className=\"font-bold\">AI Assistant</p>\n          <div className=\"flex items-center gap-2 pt-2\">\n              <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.3s]\"></span>\n              <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse [animation-delay:-0.15s]\"></span>\n              <span className=\"h-2 w-2 bg-gray-400 rounded-full animate-pulse\"></span>\n          </div>\n        </div>\n    </div>\n);\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}